@using ILIS.Football.Assignment.Helpers;
@model FootballApiResponse;

<div class="competition" data-competition-id="@Model.Competition.Id">
    <h2 class="competition-title">@Model.Competition.Name</h2>
    <div class="carousel">
        @if (Model.Matches != null && Model.Matches.Any())
        {
            @foreach (var match in Model.Matches)
            {
                <div class="match-card">
                    <div class="match-details">
                        <p>@DateTimeHelper.FormatDateTime(DateTime.Parse(match.UtcDate))</p>
                        <br />
                        <p>@match.HomeTeam.Name</p>
                        <p>vs</p>
                        <p>@match.AwayTeam.Name</p>
                    </div>
                    <div class="card-image" style="background-image: url('@Model.Competition.Emblem');">
                    </div>
                    @if(match.Score.Winner != null)
                    {
                        <div class="score">
                            <p>@match.Score?.FullTime.Home : @match.Score?.FullTime.Away</p>
                        </div>
                    }
                    else
                    {
                        <div class="odds">
                            <p>@OddsHelper.GenerateRandomdOdds() : @OddsHelper.GenerateRandomdOdds()</p>
                        </div>
                    }
                </div>
            }
        }
        else
        {
            <div class="no-matches">
                <p>No matches found.</p>
            </div>
        }
    </div>
</div>